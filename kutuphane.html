<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Professional Library Management System</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React ve Babel -->
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        /* Modern scrollbar styling */
        .shelf-scroll::-webkit-scrollbar {
            height: 8px;
        }
        .shelf-scroll::-webkit-scrollbar-track {
            background: #f1f5f9;
            border-radius: 10px;
        }
        .shelf-scroll::-webkit-scrollbar-thumb {
            background: #94a3b8;
            border-radius: 10px;
        }
        .shelf-scroll::-webkit-scrollbar-thumb:hover {
            background: #64748b;
        }
        
        /* Professional animations */
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .pulse-dot {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        
        /* Glass morphism effect */
        .glass {
            background: rgba(255, 255, 255, 0.25);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.18);
        }
        
        /* Professional shadows */
        .shadow-professional {
            box-shadow: 0 10px 25px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        
        /* Modern card hover effects */
        .card-hover {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .card-hover:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 20px 40px -12px rgba(0, 0, 0, 0.25);
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo, useCallback } = React;

        // --- Professional Icons ---
        const BookIcon = ({ className }) => (<svg className={className} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"/></svg>);
        const UserIcon = ({ className }) => (<svg className={className} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>);
        const SearchIcon = ({ className }) => (<svg className={className} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>);
        const PlusCircleIcon = ({ className }) => (<svg className={className} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10" /><line x1="12" y1="8" x2="12" y2="16" /><line x1="8" y1="12" x2="16" y2="12" /></svg>);
        const TrashIcon = ({ className }) => (<svg className={className} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polyline points="3 6 5 6 21 6" /><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2" /><line x1="10" y1="11" x2="10" y2="17" /><line x1="14" y1="11" x2="14" y2="17" /></svg>);
        const LogOutIcon = ({ className }) => (<svg className={className} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4" /><polyline points="16 17 21 12 16 7" /><line x1="21" y1="12" x2="9" y2="12" /></svg>);
        const ArrowLeftIcon = ({ className }) => (<svg className={className} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="19" y1="12" x2="5" y2="12"/><polyline points="12 19 5 12 12 5"/></svg>);
        const InfoIcon = ({ className }) => (<svg className={className} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg>);
        const CheckCircleIcon = ({ className }) => (<svg className={className} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>);
        const AlertTriangleIcon = ({ className }) => (<svg className={className} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m21.73 18-8-14a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>);
        const UserCheckIcon = ({ className }) => (<svg className={className} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><polyline points="16 11 18 13 22 9"/></svg>);
        const CalendarIcon = ({ className }) => (<svg className={className} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>);
        const StarIcon = ({ className }) => (<svg className={className} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>);
        const ClockIcon = ({ className }) => (<svg className={className} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>);
        const FilterIcon = ({ className }) => (<svg className={className} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"/></svg>);
        const BarChartIcon = ({ className }) => (<svg className={className} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="12" y1="20" x2="12" y2="10"/><line x1="18" y1="20" x2="18" y2="4"/><line x1="6" y1="20" x2="6" y2="16"/></svg>);
        const HeartIcon = ({ className, filled }) => (<svg className={className} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill={filled ? "currentColor" : "none"} stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/></svg>);

        // --- Enhanced Initial Data ---
        const initialBooksData = [
            { 
                id: 1, 
                isbn: '978-2-07-040901-0',
                title: 'Sefiller', 
                author: 'Victor Hugo', 
                year: 1862, 
                category: 'Klasik Edebiyat', 
                genre: 'Tarihî Roman',
                cover: 'https://placehold.co/300x450/7c3aed/ffffff?text=Sefiller', 
                description: 'Victor Hugo\'nun başyapıtı olan Sefiller, 19. yüzyıl Fransa\'sında geçen, adalet, merhamet ve insan onuru temalarını işleyen efsanevi bir romandır. Jean Valjean\'ın kişisel dönüşüm hikâyesi üzerinden toplumsal adaletsizliği ele alır.', 
                copies: { total: 5, available: 3, reserved: 1, overdue: 1 }, 
                popularity: 8.7, 
                rating: 4.6,
                pages: 1463,
                language: 'Türkçe',
                publisher: 'Can Yayınları',
                tags: ['Klasik', 'Tarih', 'Sosyal Adalet', 'Dönüşüm'],
                dateAdded: '2024-01-15',
                lastBorrowed: '2025-07-28',
                newArrival: false,
                featured: true,
                location: { floor: 2, section: 'A', shelf: '15-20' }
            },
            { 
                id: 2, 
                isbn: '978-975-07-1285-3',
                title: 'Suç ve Ceza', 
                author: 'Fyodor Dostoyevski', 
                year: 1866, 
                category: 'Klasik Edebiyat', 
                genre: 'Psikolojik Roman',
                cover: 'https://placehold.co/300x450/1d4ed8/ffffff?text=Suç+ve+Ceza', 
                description: 'Dostoyevski\'nin psikolojik derinlik açısından en güçlü eserlerinden biri. Yoksul öğrenci Raskolnikov\'un işlediği cinayetin ardından yaşadığı iç çelişkileri ve vicdan muhasebesini ustalıkla işler.', 
                copies: { total: 4, available: 4, reserved: 0, overdue: 0 }, 
                popularity: 9.1, 
                rating: 4.8,
                pages: 671,
                language: 'Türkçe',
                publisher: 'İş Bankası Kültür Yayınları',
                tags: ['Psikoloji', 'Felsefe', 'Suç', 'Vicdan'],
                dateAdded: '2024-02-10',
                lastBorrowed: '2025-08-01',
                newArrival: false,
                featured: true,
                location: { floor: 2, section: 'A', shelf: '20-25' }
            },
            { 
                id: 3, 
                isbn: '978-0-452-28423-4',
                title: '1984', 
                author: 'George Orwell', 
                year: 1949, 
                category: 'Bilim Kurgu', 
                genre: 'Distopik Roman',
                cover: 'https://placehold.co/300x450/be123c/ffffff?text=1984', 
                description: 'Modern distopik edebiyatın başyapıtı. Totaliter bir rejimin bireyi nasıl kontrol ettiğini, düşünce özgürlüğünün nasıl yok edildiğini çarpıcı bir şekilde anlatan, günümüzde daha da anlamlı hale gelen bir roman.', 
                copies: { total: 6, available: 1, reserved: 2, overdue: 3 }, 
                popularity: 9.8, 
                rating: 4.9,
                pages: 328,
                language: 'Türkçe',
                publisher: 'Can Yayınları',
                tags: ['Distopya', 'Politik', 'Özgürlük', 'Kontrol'],
                dateAdded: '2023-11-20',
                lastBorrowed: '2025-08-05',
                newArrival: false,
                featured: true,
                location: { floor: 1, section: 'B', shelf: '30-35' }
            },
            { 
                id: 4, 
                isbn: '978-975-08-0527-5',
                title: 'Simyacı', 
                author: 'Paulo Coelho', 
                year: 1988, 
                category: 'Felsefe', 
                genre: 'Felsefi Roman',
                cover: 'https://placehold.co/300x450/15803d/ffffff?text=Simyacı', 
                description: 'Paulo Coelho\'nun dünya çapında en çok okunan eseri. Genç çoban Santiago\'nun kişisel efsanesini arayışını konu alan bu roman, hayallerimizin peşinden gitme cesareti hakkında evrensel bir hikaye sunar.', 
                copies: { total: 8, available: 6, reserved: 1, overdue: 1 }, 
                popularity: 7.9, 
                rating: 4.3,
                pages: 163,
                language: 'Türkçe',
                publisher: 'Can Yayınları',
                tags: ['Felsefe', 'Ruhaniyet', 'Arayış', 'Kişisel Gelişim'],
                dateAdded: '2024-03-05',
                lastBorrowed: '2025-08-03',
                newArrival: false,
                featured: false,
                location: { floor: 1, section: 'C', shelf: '40-45' }
            },
            { 
                id: 5, 
                isbn: '978-0-441-17271-9',
                title: 'Dune', 
                author: 'Frank Herbert', 
                year: 1965, 
                category: 'Bilim Kurgu', 
                genre: 'Uzay Operası',
                cover: 'https://placehold.co/300x450/ea580c/ffffff?text=Dune', 
                description: 'Bilim kurgu türünün en önemli yapıtlarından biri. Herbert\'in yarattığı Arrakis gezegeni ve kompleks politik sistemler, ekolojik temalar ve mistik unsurlarla örülü epik bir hikaye sunar.', 
                copies: { total: 4, available: 3, reserved: 0, overdue: 1 }, 
                popularity: 8.4, 
                rating: 4.5,
                pages: 688,
                language: 'Türkçe',
                publisher: 'İthaki Yayınları',
                tags: ['Uzay', 'Politik', 'Ekoloji', 'Mistisizm'],
                dateAdded: '2025-07-10',
                lastBorrowed: '2025-07-30',
                newArrival: true,
                featured: false,
                location: { floor: 1, section: 'B', shelf: '25-30' }
            },
            { 
                id: 6, 
                isbn: '978-975-14-0125-8',
                title: 'Nutuk', 
                author: 'Mustafa Kemal Atatürk', 
                year: 1927, 
                category: 'Tarih', 
                genre: 'Biyografi/Anı',
                cover: 'https://placehold.co/300x450/b91c1c/ffffff?text=Nutuk', 
                description: 'Mustafa Kemal Atatürk\'ün 1919-1927 yılları arasında yaşanan Kurtuluş Savaşı ve Cumhuriyet\'in kuruluş sürecini anlattığı tarihi belge niteliğindeki eser.', 
                copies: { total: 12, available: 10, reserved: 1, overdue: 1 }, 
                popularity: 6.8, 
                rating: 4.7,
                pages: 543,
                language: 'Türkçe',
                publisher: 'Türk Tarih Kurumu',
                tags: ['Tarih', 'Kurtuluş Savaşı', 'Cumhuriyet', 'Atatürk'],
                dateAdded: '2023-10-29',
                lastBorrowed: '2025-08-02',
                newArrival: false,
                featured: false,
                location: { floor: 3, section: 'T', shelf: '10-15' }
            },
            { 
                id: 7, 
                isbn: '978-975-13-0458-2',
                title: 'Kürk Mantolu Madonna', 
                author: 'Sabahattin Ali', 
                year: 1943, 
                category: 'Türk Edebiyatı', 
                genre: 'Aşk Romanı',
                cover: 'https://placehold.co/300x450/4a044e/ffffff?text=Kürk+Mantolu+Madonna', 
                description: 'Sabahattin Ali\'nin en bilinen romanı. Raif Efendi ile Maria Puder arasındaki aşk hikayesi üzerinden dönemin Türkiye\'sinin sosyal ve kültürel yapısını eleştirel bir gözle inceler.', 
                copies: { total: 7, available: 5, reserved: 1, overdue: 1 }, 
                popularity: 9.2, 
                rating: 4.4,
                pages: 158,
                language: 'Türkçe',
                publisher: 'Yapı Kredi Yayınları',
                tags: ['Aşk', 'Berlin', 'Kültür Çatışması', 'Türk Edebiyatı'],
                dateAdded: '2024-01-20',
                lastBorrowed: '2025-08-04',
                newArrival: false,
                featured: true,
                location: { floor: 2, section: 'T', shelf: '35-40' }
            },
            { 
                id: 8, 
                isbn: '978-1-4767-2765-3',
                title: 'Steve Jobs', 
                author: 'Walter Isaacson', 
                year: 2011, 
                category: 'Biyografi', 
                genre: 'Biyografi',
                cover: 'https://placehold.co/300x450/6366f1/ffffff?text=Steve+Jobs', 
                description: 'Apple\'ın kurucusu Steve Jobs\'un hayatını, vizyonunu ve teknoloji dünyasına etkisini anlatan kapsamlı biyografi. İnovasyon, liderlik ve yaratıcılık üzerine derin içgörüler sunar.', 
                copies: { total: 3, available: 2, reserved: 0, overdue: 1 }, 
                popularity: 7.6, 
                rating: 4.2,
                pages: 656,
                language: 'Türkçe',
                publisher: 'Optimist Yayınları',
                tags: ['Teknoloji', 'İnovasyon', 'Liderlik', 'Apple'],
                dateAdded: '2025-06-15',
                lastBorrowed: '2025-07-25',
                newArrival: true,
                featured: false,
                location: { floor: 1, section: 'B', shelf: '50-55' }
            }
        ];

        const initialUsersData = [
            { 
                id: 1, 
                name: 'Dr. Ayşe Yılmaz', 
                email: 'ayse.yilmaz@email.com',
                phone: '+90 532 123 45 67',
                role: 'user', 
                memberSince: '2023-09-15',
                membershipType: 'Premium',
                fines: 15.50, 
                borrowedBooks: [
                    {bookId: 3, dueDate: '2025-08-15', borrowDate: '2025-08-01', renewCount: 1},
                    {bookId: 6, dueDate: '2025-08-18', borrowDate: '2025-08-04', renewCount: 0}
                ], 
                history: [
                    {bookId: 1, borrowDate: '2025-07-01', returnDate: '2025-07-15', rating: 5},
                    {bookId: 2, borrowDate: '2025-06-15', returnDate: '2025-06-29', rating: 4}
                ], 
                reservations: [5], 
                preferences: { emailNotifications: true, smsNotifications: false },
                favoriteGenres: ['Klasik Edebiyat', 'Tarih'],
                wishlist: [8],
                stats: { totalBorrowed: 23, currentlyBorrowing: 2, avgRating: 4.2 }
            },
            { 
                id: 2, 
                name: 'Ali Veli Karadağ', 
                email: 'ali.veli@email.com',
                phone: '+90 533 987 65 43',
                role: 'user', 
                memberSince: '2024-01-20',
                membershipType: 'Standard',
                fines: 0, 
                borrowedBooks: [], 
                history: [
                    {bookId: 4, borrowDate: '2025-07-20', returnDate: '2025-08-03', rating: 4},
                ], 
                reservations: [], 
                preferences: { emailNotifications: true, smsNotifications: true },
                favoriteGenres: ['Bilim Kurgu', 'Felsefe'],
                wishlist: [3, 5],
                stats: { totalBorrowed: 8, currentlyBorrowing: 0, avgRating: 4.1 }
            },
            { 
                id: 3, 
                name: 'Zeynep Kaya', 
                email: 'z.kaya@library.edu',
                phone: '+90 534 456 78 90',
                role: 'librarian',
                employeeId: 'LIB001',
                department: 'Genel Koleksiyon',
                workShift: 'Gündüz (09:00-17:00)'
            },
            { 
                id: 4, 
                name: 'Prof. Dr. Mehmet Öztürk', 
                email: 'm.ozturk@library.edu',
                phone: '+90 535 123 98 76',
                role: 'admin',
                employeeId: 'ADM001',
                department: 'Kütüphane Yönetimi',
                permissions: ['all']
            },
        ];

        // --- Enhanced Hook ---
        const useLocalStorage = (key, initialValue) => {
            const [storedValue, setStoredValue] = useState(() => {
                try {
                    const item = localStorage.getItem(key);
                    return item ? JSON.parse(item) : initialValue;
                } catch (error) { 
                    console.error('LocalStorage error:', error); 
                    return initialValue; 
                }
            });

            const setValue = useCallback((value) => {
                try {
                    const valueToStore = value instanceof Function ? value(storedValue) : value;
                    setStoredValue(valueToStore);
                    localStorage.setItem(key, JSON.stringify(valueToStore));
                } catch (error) { 
                    console.error('LocalStorage setValue error:', error); 
                }
            }, [storedValue]);

            return [storedValue, setValue];
        };

        // --- Professional Utility Functions ---
        const formatDate = (dateString) => {
            return new Date(dateString).toLocaleDateString('tr-TR');
        };

        const calculateOverdueDays = (dueDate) => {
            const today = new Date();
            const due = new Date(dueDate);
            const diffTime = today - due;
            return Math.ceil(diffTime / (1000 * 60 * 60 * 24));
        };

        const generateBarcode = () => {
            return Math.random().toString(36).substr(2, 9).toUpperCase();
        };

        const getBookStatus = (book, users) => {
            if (book.copies.available > 0) return { status: 'available', color: 'green' };
            if (book.copies.reserved > 0) return { status: 'reserved', color: 'yellow' };
            return { status: 'unavailable', color: 'red' };
        };

        // --- Enhanced Main App ---
        function App() {
            const [books, setBooks] = useLocalStorage('pro_library_books', initialBooksData);
            const [users, setUsers] = useLocalStorage('pro_library_users', initialUsersData);
            
            const [currentPage, setCurrentPage] = useState('login');
            const [currentUser, setCurrentUser] = useState(null);
            const [selectedBook, setSelectedBook] = useState(null);
            const [searchTerm, setSearchTerm] = useState('');
            const [selectedCategory, setSelectedCategory] = useState('all');
            const [sortBy, setSortBy] = useState('popularity
